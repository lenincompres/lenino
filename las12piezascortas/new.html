<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Las 12 piezas cortas ‚Äî Teatro de Lenin Compr√©s</title>
  <meta name="description" content="Edici√≥n web del libro 'Las 12 piezas cortas' (√≠ndice, dedicatoria, pr√≥logo y navegaci√≥n a cada obra)." />
  <link rel="preload" href="cover.jpg" as="image" />
  <style>
    :root {
      --bg: #0b0b0c;
      --panel: #151517;
      --text: #f4f4f5;
      --muted: #a1a1aa;
      --accent: #60a5fa;
      --accent-2: #34d399;
      --border: #27272a;
    }
    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0;
      font: 16px/1.6 system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, sans-serif;
      color: var(--text);
      background: radial-gradient(1200px 800px at 10% -10%, #1e1e22, var(--bg));
    }

    header {
      position: sticky;
      top: 0;
      z-index: 50;
      backdrop-filter: saturate(180%) blur(8px);
      background: color-mix(in oklab, var(--bg), transparent 35%);
      border-bottom: 1px solid var(--border);
      display: flex;
      align-items: center;
      gap: 1rem;
      padding: .6rem 1rem;
    }
    header h1 { font-size: 1rem; margin: 0; letter-spacing: .02em; }
    header .spacer { flex: 1; }
    header button {
      background: var(--panel);
      border: 1px solid var(--border);
      color: var(--text);
      padding: .5rem .75rem;
      border-radius: .6rem;
      cursor: pointer;
    }

    .layout {
      display: grid;
      grid-template-columns: 300px 1fr;
      min-height: calc(100vh - 56px);
    }

    nav {
      border-right: 1px solid var(--border);
      background: linear-gradient(180deg, color-mix(in oklab, var(--panel), #000 20%), var(--panel));
      padding: 1rem; overflow: auto;
    }
    nav .search {
      display: flex; gap: .5rem; align-items: center; margin-bottom: .75rem;
      position: sticky; top: 0; padding-bottom: .5rem; background: inherit; z-index: 1;
    }
    nav input[type="search"] {
      width: 100%; padding: .55rem .7rem; border-radius: .55rem;
      border: 1px solid var(--border);
      background: #0f0f12; color: var(--text);
    }
    nav .group { margin: 1rem 0 .5rem; font-weight: 700; color: var(--muted); text-transform: uppercase; font-size: .75rem; }
    nav ul { list-style: none; padding: 0; margin: 0; display: grid; gap: .25rem; }
    nav a {
      display: block; padding: .45rem .55rem; border-radius: .5rem;
      color: var(--text); text-decoration: none; border: 1px solid transparent;
    }
    nav a:hover, nav a:focus { outline: none; background: #101015; border-color: var(--border); }

    main { padding: 2rem 8vw; }
    section { display: none; }
    section.active { display: block; }
    section h2 { margin-top: 0; letter-spacing: .01em; }
    .kicker { color: var(--muted); text-transform: uppercase; letter-spacing: .12em; font-size: .75rem; }
    .byline { color: var(--muted); }
    .card {
      background: linear-gradient(180deg, color-mix(in oklab, var(--panel), #000 10%), var(--panel));
      border: 1px solid var(--border); border-radius: 1rem; padding: 1rem 1.25rem;
    }
    .toc { display: grid; gap: .5rem; }
    .toc a { color: var(--accent); text-decoration: none; }

    .cover {
      display: grid; grid-template-columns: 1fr; align-items: center; gap: 1rem;
    }
    .cover img { width: 100%; border-radius: .75rem; border: 1px solid var(--border); background: #111; aspect-ratio: 3/4; object-fit: cover; }

    .meta { color: var(--muted); font-size: .9rem; display: grid; gap: .25rem; }
    .pill { display: inline-block; padding: .15rem .5rem; border-radius: 999px; background: #0f172a; border: 1px solid var(--border); }

    footer { color: var(--muted); border-top: 1px solid var(--border); padding: 2rem 8vw; }

    /* Small screens */
    @media (max-width: 880px) {
      .layout { grid-template-columns: 1fr; }
      nav { position: fixed; inset: 56px 0 auto 0; max-height: calc(100vh - 56px); transform: translateY(-120%); transition: transform .25s ease; }
      nav.open { transform: translateY(0); }
      main { padding: 1.25rem; }
      header h1 { max-width: 65vw; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
    }
  </style>
</head>
<body>
  <header>
    <button id="menuBtn" aria-expanded="false" aria-controls="sidebar" title="Mostrar/ocultar men√∫">‚ò∞ Men√∫</button>
    <h1>Las 12 piezas cortas ‚Äî Teatro de Lenin Compr√©s</h1>
    <span class="spacer"></span>
    <button id="themeBtn" title="Cambiar tema">üåì</button>
  </header>

  <div class="layout">
    <nav id="sidebar" aria-label="Navegaci√≥n principal">
      <div class="search">
        <input id="search" type="search" placeholder="Buscar secci√≥n‚Ä¶ (e.g., 'Pr√≥logo', 'Pajarito')" aria-label="Buscar" />
      </div>
      <div class="group">Libro</div>
      <ul>
        <li><a href="#portada">Portada</a></li>
        <li><a href="#indice">√çndice</a></li>
        <li><a href="#dedicatoria">Dedicatoria</a></li>
        <li><a href="#prologo">Pr√≥logo</a></li>
        <li><a href="#introduccion">Introducci√≥n del autor</a></li>
      </ul>
      <div class="group">Obras</div>
      <ul id="playsList">
        <!-- Generado por JS para facilitar b√∫squeda -->
      </ul>
    </nav>

    <main id="content" tabindex="-1">
      <!-- PORTADA -->
      <section id="portada" class="active" data-title="Portada">
        <div class="cover">
          <img src="cover.jpg" alt="Portada del libro (placeholder)" />
          <div class="card">
            <h2>Las 12 piezas cortas</h2>
            <p class="byline">Teatro de Lenin Compr√©s</p>
            <p class="meta">
              <span class="pill">ISBN-13: 978-1517611026</span>
              <span class="pill">ISBN-10: 1517611024</span>
              <span class="pill">Primera edici√≥n impresa: 2015</span>
            </p>
            <p>Edici√≥n web sin im√°genes por ahora. Sustituye <code>cover.jpg</code> por tu portada final.</p>
          </div>
        </div>
      </section>

      <!-- INDICE -->
      <section id="indice" data-title="√çndice">
        <h2>√çndice</h2>
        <div class="toc card">
          <ol id="tocOl"></ol>
          <p class="kicker">Consejo: usa el men√∫ para saltar directamente a cualquier obra.</p>
        </div>
      </section>

      <!-- DEDICATORIA -->
      <section id="dedicatoria" data-title="Dedicatoria">
        <h2>Dedicatoria</h2>
        <article class="card">
          <p><em>A mi padre, madre, hermanos y hermanas, por tanta inspiraci√≥n, cari√±o y apoyo.</em></p>
          <p class="kicker">(Texto incluido a modo de referencia. Puedes ampliarlo o ajustarlo aqu√≠.)</p>
        </article>
      </section>

      <!-- PROLOGO (estructura con espacio para pegar el texto completo) -->
      <section id="prologo" data-title="Pr√≥logo">
        <h2>Pr√≥logo</h2>
        <article class="card">
          <p class="byline">por Iv√°n Garc√≠a Guerra</p>
          <p class="kicker">Pega aqu√≠ el texto completo del pr√≥logo si tienes derechos y autorizaci√≥n para publicarlo. Debajo hay un breve extracto como muestra:</p>
          <blockquote>
            <p>‚ÄúA Lenin lo conozco desde hace bastante tiempo. All√° al final de los a√±os 90 fue uno de mis alumnos de teatro‚Ä¶‚Äù.</p>
          </blockquote>
          <p class="kicker">(Sustituye el extracto por el texto autorizado o deja solo un resumen.)</p>
        </article>
      </section>

      <!-- INTRODUCCI√ìN DEL AUTOR (espacio preparado) -->
      <section id="introduccion" data-title="Introducci√≥n del autor">
        <h2>Introducci√≥n del autor</h2>
        <article class="card">
          <p class="kicker">Pega aqu√≠ la introducci√≥n del autor si deseas incluirla (resumen, bio breve, notas de edici√≥n, etc.).</p>
        </article>
      </section>

      <!-- OBRAS (cada una con su propia secci√≥n) -->
      <section id="obra-1" data-title="Pajarito volando">
        <h2>Pajarito volando</h2>
        <article class="card">
          <p class="kicker">Sinopsis / notas de montaje</p>
          <p>Coloca aqu√≠ una sinopsis breve, elenco y cuadros/escenas. (Opcional) puedes agregar un bot√≥n para descargar el libreto de esta obra si lo publicas como PDF aparte.</p>
        </article>
      </section>

      <section id="obra-2" data-title="Mantequilla y mermelada">
        <h2>Mantequilla y mermelada</h2>
        <article class="card"><p>Espacio para la sinopsis, personajes y texto autorizado.</p></article>
      </section>

      <section id="obra-3" data-title="La zorra boba">
        <h2>La zorra boba</h2>
        <article class="card"><p>Contenido / sinopsis.</p></article>
      </section>

      <section id="obra-4" data-title="Suerte a medias">
        <h2>Suerte a medias</h2>
        <article class="card"><p>Contenido / sinopsis.</p></article>
      </section>

      <section id="obra-5" data-title="Historia de amor de un tal sobre la quesey√≥ de nosedonde">
        <h2>Historia de amor de un tal sobre la quesey√≥ de nosedonde</h2>
        <article class="card"><p>Contenido / sinopsis.</p></article>
      </section>

      <section id="obra-6" data-title="¬øCu√°l es el coro?">
        <h2>¬øCu√°l es el coro?</h2>
        <article class="card"><p>Contenido / sinopsis.</p></article>
      </section>

      <section id="obra-7" data-title="Hay locos">
        <h2>Hay locos</h2>
        <article class="card"><p>Contenido / sinopsis.</p></article>
      </section>

      <section id="obra-8" data-title="Cuesti√≥n y tiempo">
        <h2>Cuesti√≥n y tiempo</h2>
        <article class="card"><p>Contenido / sinopsis.</p></article>
      </section>

      <section id="obra-9" data-title="Dibujo de un sue√±o">
        <h2>Dibujo de un sue√±o</h2>
        <article class="card"><p>Contenido / sinopsis.</p></article>
      </section>

      <section id="obra-10" data-title="Tras unas tetas, gre√±as y tacones">
        <h2>Tras unas tetas, gre√±as y tacones</h2>
        <article class="card"><p>Contenido / sinopsis.</p></article>
      </section>

      <section id="obra-11" data-title="Estratagemas y escaramuzas de Patricio Mella">
        <h2>Estratagemas y escaramuzas de Patricio Mella</h2>
        <article class="card"><p>Contenido / sinopsis.</p></article>
      </section>

      <section id="obra-12" data-title="Desayuno en rojo chino">
        <h2>Desayuno en rojo chino</h2>
        <article class="card"><p>Contenido / sinopsis.</p></article>
      </section>

    </main>
  </div>

  <footer>
    <small>¬© 2014‚Äì2025 Lenin Compr√©s. Todos los derechos reservados. Esta edici√≥n web es s√≥lo para lectura privada; para publicar el texto completo aseg√∫rate de tener los permisos correspondientes.</small>
  </footer>

  <script>
    // Datos del √≠ndice de obras (desde el libro)
    const plays = [
      { n: 1, title: 'Pajarito volando', id: 'obra-1' },
      { n: 2, title: 'Mantequilla y mermelada', id: 'obra-2' },
      { n: 3, title: 'La zorra boba', id: 'obra-3' },
      { n: 4, title: 'Suerte a medias', id: 'obra-4' },
      { n: 5, title: 'Historia de amor de un tal sobre la quesey√≥ de nosedonde', id: 'obra-5' },
      { n: 6, title: '¬øCu√°l es el coro?', id: 'obra-6' },
      { n: 7, title: 'Hay locos', id: 'obra-7' },
      { n: 8, title: 'Cuesti√≥n y tiempo', id: 'obra-8' },
      { n: 9, title: 'Dibujo de un sue√±o', id: 'obra-9' },
      { n: 10, title: 'Tras unas tetas, gre√±as y tacones', id: 'obra-10' },
      { n: 11, title: 'Estratagemas y escaramuzas de Patricio Mella', id: 'obra-11' },
      { n: 12, title: 'Desayuno en rojo chino', id: 'obra-12' },
    ];

    // Render men√∫ de obras y TOC
    const playsList = document.getElementById('playsList');
    const tocOl = document.getElementById('tocOl');
    plays.forEach(p => {
      const li = document.createElement('li');
      const a = document.createElement('a');
      a.href = `#${p.id}`;
      a.textContent = `${p.n}. ${p.title}`;
      li.appendChild(a);
      playsList.appendChild(li);

      const li2 = document.createElement('li');
      const a2 = document.createElement('a');
      a2.href = `#${p.id}`;
      a2.textContent = `${p.n}. ${p.title}`;
      li2.appendChild(a2);
      tocOl.appendChild(li2);
    });

    // Navegaci√≥n simple por hash: muestra una secci√≥n y oculta el resto
    const sections = [...document.querySelectorAll('main section')];
    function showSection(id) {
      const target = document.getElementById(id) || document.getElementById('portada');
      sections.forEach(s => s.classList.toggle('active', s === target));
      // Mover foco para accesibilidad
      document.getElementById('content').focus({preventScroll:true});
      // Cerrar men√∫ en m√≥vil
      sidebar.classList.remove('open');
      menuBtn.setAttribute('aria-expanded', 'false');
    }
    function handleHash() {
      showSection(location.hash.replace('#', '') || 'portada');
    }
    window.addEventListener('hashchange', handleHash);
    window.addEventListener('DOMContentLoaded', handleHash);

    // B√∫squeda m√≠nima: filtra enlaces del men√∫ por texto
    const search = document.getElementById('search');
    search.addEventListener('input', (e) => {
      const q = e.target.value.toLowerCase();
      playsList.querySelectorAll('li').forEach(li => {
        const t = li.textContent.toLowerCase();
        li.style.display = t.includes(q) ? '' : 'none';
      });
    });

    // Men√∫ responsive
    const menuBtn = document.getElementById('menuBtn');
    const sidebar = document.getElementById('sidebar');
    menuBtn.addEventListener('click', () => {
      const open = sidebar.classList.toggle('open');
      menuBtn.setAttribute('aria-expanded', String(open));
    });

    // Tema claro/oscuro (persistente)
    const themeBtn = document.getElementById('themeBtn');
    const THEME_KEY = 'site-theme-dark';
    function applyTheme() {
      const dark = localStorage.getItem(THEME_KEY) !== 'false';
      document.documentElement.style.setProperty('--bg', dark ? '#0b0b0c' : '#fafafa');
      document.documentElement.style.setProperty('--panel', dark ? '#151517' : '#ffffff');
      document.documentElement.style.setProperty('--text', dark ? '#f4f4f5' : '#0a0a0a');
      document.documentElement.style.setProperty('--muted', dark ? '#a1a1aa' : '#4b5563');
      document.documentElement.style.setProperty('--border', dark ? '#27272a' : '#e5e7eb');
      document.documentElement.style.setProperty('--accent', dark ? '#60a5fa' : '#2563eb');
      document.documentElement.style.setProperty('--accent-2', dark ? '#34d399' : '#059669');
      themeBtn.textContent = dark ? 'üåì' : 'üåó';
      themeBtn.setAttribute('aria-label', dark ? 'Cambiar a tema claro' : 'Cambiar a tema oscuro');
    }
    themeBtn.addEventListener('click', () => {
      const current = localStorage.getItem(THEME_KEY);
      localStorage.setItem(THEME_KEY, current === 'false' ? 'true' : 'false');
      applyTheme();
    });
    applyTheme();
  </script>
</body>
</html>
